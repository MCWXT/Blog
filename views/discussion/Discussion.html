<template v-if="discussion">
  <div class="p-2">
    <h1 class="mt-3 text-2xl">{{discussion.title}} <span>#{{number}}</span></h1>
    <span class="my-2">更新于: {{discussion.updated_at}}</span>
  </div>
  <div class="p-2">
    <div class="border rounded">
      <div class="my-2">
        <img class="rounded-lg mx-2 w-10 inline" :src="discussion.user.avatar_url" alt="">
        <span>{{discussion.user.login}}</span>
      </div>
      <div class="p-2">
        <div class="mx-2 text-wrap break-all" v-html="marked.parse(discussion.body)">

        </div>
      </div>
    </div>
  </div>
  <div>
    <div class="my-4">
      <div class="py-2 mx-2 relative">
        <span class="m-3">评论</span>
        <span>{{discussion.comments}}</span>
        <a class="btn btn-success btn-sm absolute end-0" role="button" :href="'//github.com/MCWXT/mcwxt.github.io/discussions/' + number">新评论</a>
      </div>
      <template v-if="comments[0]">
        <div class="m-2 border rounded" v-for="comment in comments">
          <div class="py-2">
            <img class="rounded-full inline mx-2 w-10" :src="comment.user.avatar_url" alt="">
            <span>{{comment.user.login}}</span>
            <span class="my-2 ms-2">{{comment.updated_at}}</span>
          </div>
          <div class="p-2">
            <span class="mx-2">{{comment.body}}</span>
          </div>
        </div>
      </template>
    </div>
  </div>
</template>